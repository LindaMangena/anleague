<div class="max-w-5xl mx-auto p-6">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-2xl font-semibold">Representative Team</h1>

    <!-- Small status pill: country + size of squad -->
    <div class="text-sm text-gray-500">
      <span *ngIf="country; else noCountry">{{ country }}</span>
      <ng-template #noCountry>—</ng-template>
      <span class="mx-2">·</span>
      <span>{{ players.length }}/23 players</span>
    </div>
  </div>

  <!-- Manager -->
  <div class="bg-white border rounded-lg p-5 shadow-sm mb-6">
    <div class="text-sm text-gray-500">Manager</div>
    <div class="text-lg font-medium">
      {{ manager || '—' }}
    </div>
  </div>

  <!-- Squad by position -->
  <div class="grid md:grid-cols-2 gap-6">
    <!-- GK -->
    <div class="bg-white border rounded-lg p-4 shadow-sm">
      <h2 class="font-semibold mb-3">Goalkeepers (GK)</h2>
      <table class="w-full text-sm">
        <tbody>
          <tr *ngFor="let p of groupedPlayers('GK')" class="border-b last:border-0">
            <td class="py-2">
              {{ p.name }}
              <span
                *ngIf="p.captain"
                class="ml-2 inline-block text-[10px] uppercase bg-amber-100 text-amber-700 px-2 py-0.5 rounded"
              >
                Captain
              </span>
            </td>
            <td class="text-right text-gray-500">
              Rating: {{ p.ratings[p.natural] }}
            </td>
          </tr>
          <tr *ngIf="groupedPlayers('GK').length === 0">
            <td class="py-2 text-gray-400">No players</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- DF -->
    <div class="bg-white border rounded-lg p-4 shadow-sm">
      <h2 class="font-semibold mb-3">Defenders (DF)</h2>
      <table class="w-full text-sm">
        <tbody>
          <tr *ngFor="let p of groupedPlayers('DF')" class="border-b last:border-0">
            <td class="py-2">
              {{ p.name }}
              <span
                *ngIf="p.captain"
                class="ml-2 inline-block text-[10px] uppercase bg-amber-100 text-amber-700 px-2 py-0.5 rounded"
              >
                Captain
              </span>
            </td>
            <td class="text-right text-gray-500">
              Rating: {{ p.ratings[p.natural] }}
            </td>
          </tr>
          <tr *ngIf="groupedPlayers('DF').length === 0">
            <td class="py-2 text-gray-400">No players</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- MD -->
    <div class="bg-white border rounded-lg p-4 shadow-sm">
      <h2 class="font-semibold mb-3">Midfielders (MD)</h2>
      <table class="w-full text-sm">
        <tbody>
          <tr *ngFor="let p of groupedPlayers('MD')" class="border-b last:border-0">
            <td class="py-2">
              {{ p.name }}
              <span
                *ngIf="p.captain"
                class="ml-2 inline-block text-[10px] uppercase bg-amber-100 text-amber-700 px-2 py-0.5 rounded"
              >
                Captain
              </span>
            </td>
            <td class="text-right text-gray-500">
              Rating: {{ p.ratings[p.natural] }}
            </td>
          </tr>
          <tr *ngIf="groupedPlayers('MD').length === 0">
            <td class="py-2 text-gray-400">No players</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- AT -->
    <div class="bg-white border rounded-lg p-4 shadow-sm">
      <h2 class="font-semibold mb-3">Attackers (AT)</h2>
      <table class="w-full text-sm">
        <tbody>
          <tr *ngFor="let p of groupedPlayers('AT')" class="border-b last:border-0">
            <td class="py-2">
              {{ p.name }}
              <span
                *ngIf="p.captain"
                class="ml-2 inline-block text-[10px] uppercase bg-amber-100 text-amber-700 px-2 py-0.5 rounded"
              >
                Captain
              </span>
            </td>
            <td class="text-right text-gray-500">
              Rating: {{ p.ratings[p.natural] }}
            </td>
          </tr>
          <tr *ngIf="groupedPlayers('AT').length === 0">
            <td class="py-2 text-gray-400">No players</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
